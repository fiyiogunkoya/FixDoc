{
  "format_version": "1.2",
  "terraform_version": "1.6.0",
  "resource_changes": [
    {
      "address": "aws_vpc.main",
      "type": "aws_vpc",
      "name": "main",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": ["create"],
        "after": {
          "cidr_block": "10.0.0.0/16",
          "enable_dns_hostnames": true
        }
      }
    },
    {
      "address": "aws_subnet.public",
      "type": "aws_subnet",
      "name": "public",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": ["create"],
        "after": {
          "cidr_block": "10.0.1.0/24",
          "availability_zone": "us-east-1a"
        }
      }
    },
    {
      "address": "aws_subnet.private",
      "type": "aws_subnet",
      "name": "private",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": ["create"],
        "after": {
          "cidr_block": "10.0.2.0/24",
          "availability_zone": "us-east-1b"
        }
      }
    },
    {
      "address": "aws_security_group.web",
      "type": "aws_security_group",
      "name": "web",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": ["create"],
        "after": {
          "name": "fixdoc-web-sg",
          "description": "Allow HTTP/HTTPS inbound"
        }
      }
    },
    {
      "address": "aws_security_group.db",
      "type": "aws_security_group",
      "name": "db",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": ["create"],
        "after": {
          "name": "fixdoc-db-sg",
          "description": "Allow PostgreSQL from web tier"
        }
      }
    },
    {
      "address": "aws_instance.web",
      "type": "aws_instance",
      "name": "web",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": ["create"],
        "after": {
          "ami": "ami-0c02fb55956c7d316",
          "instance_type": "t3.micro"
        }
      }
    },
    {
      "address": "aws_iam_role.lambda_exec",
      "type": "aws_iam_role",
      "name": "lambda_exec",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": ["create"],
        "after": {
          "name": "fixdoc-lambda-exec"
        }
      }
    },
    {
      "address": "aws_iam_role_policy_attachment.lambda_basic",
      "type": "aws_iam_role_policy_attachment",
      "name": "lambda_basic",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": ["create"],
        "after": {
          "policy_arn": "arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
        }
      }
    },
    {
      "address": "aws_lambda_function.api",
      "type": "aws_lambda_function",
      "name": "api",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": ["create"],
        "after": {
          "function_name": "fixdoc-api",
          "runtime": "python3.11"
        }
      }
    },
    {
      "address": "aws_s3_bucket.data",
      "type": "aws_s3_bucket",
      "name": "data",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": ["create"],
        "after": {
          "bucket": "fixdoc-app-data"
        }
      }
    },
    {
      "address": "aws_db_subnet_group.main",
      "type": "aws_db_subnet_group",
      "name": "main",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": ["create"],
        "after": {
          "name": "fixdoc-db-subnet"
        }
      }
    },
    {
      "address": "aws_db_instance.main",
      "type": "aws_db_instance",
      "name": "main",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": ["create"],
        "after": {
          "engine": "postgres",
          "instance_class": "db.t3.micro"
        }
      }
    },
    {
      "address": "aws_lb.main",
      "type": "aws_lb",
      "name": "main",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": ["create"],
        "after": {
          "name": "fixdoc-alb",
          "load_balancer_type": "application"
        }
      }
    }
  ]
}
